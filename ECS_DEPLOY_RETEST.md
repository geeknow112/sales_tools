# ECS Deploy Re-test

## 🎯 テスト目的
PR マージ → CodePipeline → ECS デプロイの完全な流れを再度検証する

## 📋 テスト内容

### 現在の状況
- **ECSクラスター**: `sales-tools-cluster` - 正常動作中
- **現在のタスク**: `1f3f308b60c44b4d991726f99949f57b` - RUNNING
- **パブリックIP**: `54.168.243.99:8080` - アクセス可能
- **CodePipeline**: `ecs-standard-3stage-pipeline-fixed` - 待機中

### テスト変更内容
- **テストID**: `ecs-deploy-retest-1754112876`
- **変更内容**: アプリケーションのバージョン情報を更新
- **期待結果**: 新しいECSタスクが起動し、古いタスクが停止される

## 🔄 期待される動作フロー

### 1. PR作成・マージ
- このブランチをmainにマージ
- GitHub Webhookが CodePipeline をトリガー

### 2. CodePipeline実行
- **Source Stage**: GitHubから最新コード取得
- **Build Stage**: Dockerイメージビルド・ECRプッシュ
- **Deploy Stage**: 既存タスク停止 → 新タスク起動

### 3. ECS自動デプロイ
- 既存タスク `1f3f308b60c44b4d991726f99949f57b` を停止
- 新しいタスクを起動
- 新バージョンでの動作確認

## 📊 検証ポイント

### デプロイ前の状態
- **現在のタスクID**: `1f3f308b60c44b4d991726f99949f57b`
- **現在のバージョン**: `1.0.0`
- **現在のIP**: `54.168.243.99`

### デプロイ後の期待状態
- **新しいタスクID**: [デプロイ後に確認]
- **新しいバージョン**: `1.1.0`
- **新しいIP**: [デプロイ後に確認]

---

**テスト実行日時**: 2025-08-02 14:34:36 JST
**実行者**: システム管理者
**目的**: ECSデプロイフローの安定性確認
